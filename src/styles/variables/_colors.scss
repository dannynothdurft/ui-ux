// =============================================================================
// FARB-SYSTEM
// =============================================================================

// =============================================================================
// FARBPALETTE - GRUNDFARBEN
// =============================================================================

// Primärfarbe (Markenfarbe)
$color-primary: #3b82f6 !default;
$color-primary-light: #93c5fd !default;
$color-primary-dark: #1d4ed8 !default;

// Sekundärfarbe (Unterstützende Farbe)
$color-secondary: #8b5cf6 !default;
$color-secondary-light: #c4b5fd !default;
$color-secondary-dark: #5b21b6 !default;

// Akzentfarbe (Für Hervorhebungen)
$color-accent: #ec4899 !default;
$color-accent-light: #fbcfe8 !default;
$color-accent-dark: #be185d !default;

// =============================================================================
// FUNKTIONALE FARBEN
// =============================================================================

// Erfolgsfarbe
$color-success: #10b981 !default;
$color-success-light: #a7f3d0 !default;
$color-success-dark: #047857 !default;

// Warnfarbe
$color-warning: #f59e0b !default;
$color-warning-light: #fde68a !default;
$color-warning-dark: #b45309 !default;

// Fehlerfarbe
$color-error: #ef4444 !default;
$color-error-light: #fecaca !default;
$color-error-dark: #b91c1c !default;

// Informationen
$color-info: #06b6d4 !default;
$color-info-light: #a5f3fc !default;
$color-info-dark: #0e7490 !default;

// =============================================================================
// NEUTRALE FARBEN
// =============================================================================

// Grauskala
$color-gray-50: #f9fafb !default;
$color-gray-100: #f3f4f6 !default;
$color-gray-200: #e5e7eb !default;
$color-gray-300: #d1d5db !default;
$color-gray-400: #9ca3af !default;
$color-gray-500: #6b7280 !default;
$color-gray-600: #4b5563 !default;
$color-gray-700: #374151 !default;
$color-gray-800: #1f2937 !default;
$color-gray-900: #111827 !default;

// Schwarz und Weiß
$color-white: #ededed !default;
$color-black: #1f1f1f !default;

// =============================================================================
// TEXTFARBEN
// =============================================================================

$color-text-primary: $color-gray-900 !default;
$color-text-secondary: $color-gray-600 !default;
$color-text-tertiary: $color-gray-400 !default;
$color-text-inverse: $color-white !default;

// =============================================================================
// HINTERGRUNDFARBEN
// =============================================================================

$color-background-primary: $color-white !default;
$color-background-secondary: $color-gray-100 !default;
$color-background-tertiary: $color-gray-200 !default;
$color-background-inverse: $color-gray-900 !default;

$color-background-alt: #f8fafc;
$color-background-hover: #f1f5f9;
$color-background-active: #e2e8f0;

// =============================================================================
// RAHMENFARBEN
// =============================================================================

$color-border-primary: $color-gray-300 !default;
$color-border-secondary: $color-gray-200 !default;
$color-border-tertiary: $color-gray-100 !default;

// =============================================================================
// FARB-UTILITIES
// =============================================================================

// Farb-Map für dynamische Nutzung
$colors: (
  'primary': $color-primary,
  'primary-light': $color-primary-light,
  'primary-dark': $color-primary-dark,
  'secondary': $color-secondary,
  'secondary-light': $color-secondary-light,
  'secondary-dark': $color-secondary-dark,
  'accent': $color-accent,
  'accent-light': $color-accent-light,
  'accent-dark': $color-accent-dark,
  'success': $color-success,
  'success-light': $color-success-light,
  'success-dark': $color-success-dark,
  'warning': $color-warning,
  'warning-light': $color-warning-light,
  'warning-dark': $color-warning-dark,
  'error': $color-error,
  'error-light': $color-error-light,
  'error-dark': $color-error-dark,
  'info': $color-info,
  'info-light': $color-info-light,
  'info-dark': $color-info-dark,
  'white': $color-white,
  'black': $color-black
) !default;

// Graustufen-Map
$grays: (
  '50': $color-gray-50,
  '100': $color-gray-100,
  '200': $color-gray-200,
  '300': $color-gray-300,
  '400': $color-gray-400,
  '500': $color-gray-500,
  '600': $color-gray-600,
  '700': $color-gray-700,
  '800': $color-gray-800,
  '900': $color-gray-900
) !default;

// =============================================================================
// FARB-FUNKTIONEN
// =============================================================================

// Funktion zum Erhalten einer Farbe aus der Map
@function color($key) {
  @if map-has-key($colors, $key) {
    @return map-get($colors, $key);
  } @else {
    @error "Farbe '#{$key}' wurde nicht in der Farb-Map gefunden.";
  }
}

// Funktion zum Erhalten einer Graustufe
@function gray($key) {
  @if map-has-key($grays, $key) {
    @return map-get($grays, $key);
  } @else {
    @error "Graustufe '#{$key}' wurde nicht in der Graustufen-Map gefunden.";
  }
}

// Funktion zum Anpassen der Deckkraft einer Farbe
@function color-opacity($color, $opacity) {
  @return rgba($color, $opacity);
}

// =============================================================================
// FARB-MIXINS
// =============================================================================

// Mixin für dynamische Farbanwendung
@mixin color-variant($background, $color: null, $border: null) {
  background-color: $background;
  
  @if $color {
    color: $color;
  } @else {
    // Automatische Textfarbe basierend auf Hintergrundhelligkeit
    @if (lightness($background) > 60) {
      color: $color-text-primary;
    } @else {
      color: $color-text-inverse;
    }
  }
  
  @if $border {
    border-color: $border;
  }
}

// Mixin für Farbübergänge
@mixin color-transition($properties: all, $duration: 0.2s, $timing: ease-in-out) {
  transition: $properties $duration $timing;
}

// =============================================================================
// THEMING
// =============================================================================

// Dunkles Theme Variablen
$dark-theme: (
  'text-primary': $color-gray-100,
  'text-secondary': $color-gray-300,
  'text-tertiary': $color-gray-500,
  'background-primary': $color-gray-900,
  'background-secondary': $color-gray-800,
  'background-tertiary': $color-gray-700,
  'border-primary': $color-gray-700,
  'border-secondary': $color-gray-600,
  'border-tertiary': $color-gray-500
) !default;

// Mixin für Dark Mode
@mixin dark-mode {
  @media (prefers-color-scheme: dark) {
    :root {
      --color-text-primary: #{map-get($dark-theme, 'text-primary')};
      --color-text-secondary: #{map-get($dark-theme, 'text-secondary')};
      --color-text-tertiary: #{map-get($dark-theme, 'text-tertiary')};
      --color-background-primary: #{map-get($dark-theme, 'background-primary')};
      --color-background-secondary: #{map-get($dark-theme, 'background-secondary')};
      --color-background-tertiary: #{map-get($dark-theme, 'background-tertiary')};
      --color-border-primary: #{map-get($dark-theme, 'border-primary')};
      --color-border-secondary: #{map-get($dark-theme, 'border-secondary')};
      --color-border-tertiary: #{map-get($dark-theme, 'border-tertiary')};
    }
  }
}

// CSS Custom Properties für Theming
:root {
  // Primärfarben
  --color-primary: #{$color-primary};
  --color-primary-light: #{$color-primary-light};
  --color-primary-dark: #{$color-primary-dark};
  
  // Sekundärfarben
  --color-secondary: #{$color-secondary};
  --color-secondary-light: #{$color-secondary-light};
  --color-secondary-dark: #{$color-secondary-dark};
  
  // Textfarben
  --color-text-primary: #{$color-text-primary};
  --color-text-secondary: #{$color-text-secondary};
  --color-text-tertiary: #{$color-text-tertiary};
  --color-text-inverse: #{$color-text-inverse};
  
  // Hintergrundfarben
  --color-background-primary: #{$color-background-primary};
  --color-background-secondary: #{$color-background-secondary};
  --color-background-tertiary: #{$color-background-tertiary};
  --color-background-inverse: #{$color-background-inverse};
  
  // Rahmenfarben
  --color-border-primary: #{$color-border-primary};
  --color-border-secondary: #{$color-border-secondary};
  --color-border-tertiary: #{$color-border-tertiary};
}

// Dark Mode aktivieren
@include dark-mode;